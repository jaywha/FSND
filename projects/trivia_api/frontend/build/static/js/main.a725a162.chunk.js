(this["webpackJsonptrivia-app"]=this["webpackJsonptrivia-app"]||[]).push([[0],{58:function(e,t,a){},59:function(e,t,a){},68:function(e,t,a){e.exports=a(86)},73:function(e,t,a){},74:function(e,t,a){},78:function(e,t,a){},81:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(20),i=a.n(s),o=(a(73),a(8)),c=a(9),u=a(11),l=a(10),m=a(64),d=a(7),y=(a(58),a(28)),p=a(15),g=a.n(p),h=(a(59),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).submitQuestion=function(e){e.preventDefault(),g.a.ajax({url:"/questions/",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({question:n.state.question,answer:n.state.answer,difficulty:n.state.difficulty,category:n.state.category}),xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e){document.getElementById("add-question-form").reset()},error:function(e){alert("Unable to add question. Please try your request again")}})},n.handleChange=function(e){n.setState(Object(y.a)({},e.target.name,e.target.value))},n.state={question:"",answer:"",difficulty:1,category:1,categories:{}},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.ajax({url:"/categories/",type:"GET",success:function(t){e.setState({categories:t.categories})},error:function(e){alert("Unable to load categories. Please try your request again")}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"add-form"},r.a.createElement("h2",null,"Add a New Trivia Question"),r.a.createElement("form",{className:"form-view",id:"add-question-form",onSubmit:this.submitQuestion},r.a.createElement("label",null,"Question",r.a.createElement("input",{type:"text",name:"question",onChange:this.handleChange})),r.a.createElement("label",null,"Answer",r.a.createElement("input",{type:"text",name:"answer",onChange:this.handleChange})),r.a.createElement("label",null,"Difficulty",r.a.createElement("select",{name:"difficulty",onChange:this.handleChange},r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"))),r.a.createElement("label",null,"Category",r.a.createElement("select",{name:"category",onChange:this.handleChange},Object.keys(this.state.categories).map((function(t){return"PLACEHOLDER"!==e.state.categories[t].type?r.a.createElement("option",{key:t,value:t},e.state.categories[t].type):null})))),r.a.createElement("input",{type:"submit",className:"button",value:"Submit"})))}}]),a}(n.Component)),f=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).submitCategory=function(e){e.preventDefault(),g.a.ajax({url:"/categories/",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({category:n.state.category}),xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e){document.getElementById("add-category-form").reset()},error:function(e){alert("Unable to add category. Please try your request again")}})},n.handleChange=function(e){n.setState(Object(y.a)({},e.target.name,e.target.value))},n.state={category:""},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"add-form"},r.a.createElement("h2",null,"Add a New Trivia Category"),r.a.createElement("form",{className:"form-view",id:"add-category-form",onSubmit:this.submitCategory},r.a.createElement("label",null,"Category Name",r.a.createElement("input",{type:"text",name:"category",onChange:this.handleChange})),r.a.createElement("input",{type:"submit",className:"button",value:"Submit"})))}}]),a}(n.Component),v=a(22),E=a(62),b=a(66),q=(a(74),a(75),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={visibleAnswer:!1},e}return Object(c.a)(a,[{key:"flipVisibility",value:function(){this.setState({visibleAnswer:!this.state.visibleAnswer})}},{key:"render",value:function(){var e=this,t=this.props,a=t.question,n=t.answer,s=t.category,i=t.difficulty;return r.a.createElement("div",{className:"Question-holder"},r.a.createElement("div",{className:"Question"},a),r.a.createElement("div",{className:"Question-status"},r.a.createElement("img",{className:"category",alt:"".concat(s.type),src:"".concat(s.type,".svg")}),r.a.createElement("div",{className:"difficulty"},"Difficulty: ",i),r.a.createElement(b.a,{overlay:r.a.createElement(E.a,{id:"delete-tooltip"},"Delete Question"),placement:"bottom"},r.a.createElement("img",{src:"delete.png",alt:"&cross;",className:"delete",onClick:function(){return e.props.questionAction("DELETE")}}))),r.a.createElement("div",{className:"show-answer",onClick:function(){return e.flipVisibility()}},r.a.createElement(v.a,null,this.state.visibleAnswer?"Hide":"Show"," Answer")),r.a.createElement("div",{className:"answer-holder"},r.a.createElement("span",{style:{visibility:this.state.visibleAnswer?"visible":"hidden"}},"Answer: ",n)))}}]),a}(n.Component)),C=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.getInfo=function(t){t.preventDefault(),e.props.submitSearch(e.state.query)},e.handleInputChange=function(){e.setState({query:e.search.value})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:this.getInfo},r.a.createElement("input",{placeholder:"Search questions...",ref:function(t){return e.search=t},onChange:this.handleInputChange}),r.a.createElement("input",{type:"submit",value:"Submit",className:"button"}))}}]),a}(n.Component),w=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getQuestions=function(){g.a.ajax({url:"/questions?page=".concat(n.state.page),type:"GET",success:function(e){n.setState({questions:e.questions,totalQuestions:e.total_questions,categories:e.categories,currentCategory:e.current_category})},error:function(e){alert("Unable to load questions. Please try your request again")}})},n.getByCategory=function(e){g.a.ajax({url:"/categories/".concat(e,"/questions"),type:"GET",success:function(e){n.setState({questions:e.questions,totalQuestions:e.total_questions,currentCategory:e.current_category})},error:function(e){alert("Unable to load questions. Please try your request again")}})},n.submitSearch=function(e){g.a.ajax({url:"/questions/search/",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({searchTerm:e}),xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e){n.setState({questions:e.questions,totalQuestions:e.total_questions})},error:function(e){alert("Unable to load questions. Please try your request again")}})},n.questionAction=function(e){return function(t){"DELETE"===t&&window.confirm("are you sure you want to delete the question?")&&g.a.ajax({url:"/questions/".concat(e,"/"),type:"DELETE",success:function(e){n.getQuestions()},error:function(e){alert("Unable to load questions. Please try your request again")}})}},n.state={questions:[],page:1,totalQuestions:0,categories:{},currentCategory:null},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getQuestions()}},{key:"selectPage",value:function(e){var t=this;this.setState({page:e},(function(){return t.getQuestions()}))}},{key:"createPagination",value:function(){for(var e=this,t=[],a=Math.ceil(this.state.totalQuestions/10),n=function(a){t.push(r.a.createElement("span",{key:a,className:"page-num ".concat(a===e.state.page?"active":""),onClick:function(){e.selectPage(a)}},a))},s=1;s<=a;s++)n(s);return t}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"question-view"},r.a.createElement("div",{className:"categories-list"},r.a.createElement("h2",{onClick:function(){e.getQuestions()}},"Categories"),r.a.createElement("ul",null,Object.keys(this.state.categories).map((function(t){return"0"!==t?r.a.createElement("li",{key:t,onClick:function(){e.getByCategory(t)}},r.a.createElement(v.a,null,e.state.categories[t].type,r.a.createElement("img",{className:"category",alt:"".concat(e.state.categories[t].type),src:"".concat(e.state.categories[t].type,".svg")}))):null}))),r.a.createElement(C,{submitSearch:this.submitSearch})),r.a.createElement("div",{className:"questions-list"},r.a.createElement("h2",null,"Questions"),this.state.questions.map((function(t,a){return r.a.createElement(q,{key:t.id,question:t.question,answer:t.answer,category:e.state.categories[t.category],difficulty:t.difficulty,questionAction:e.questionAction(t.id)})})),r.a.createElement("div",{className:"pagination-menu"},this.createPagination())))}}]),a}(n.Component),j=a(38),O=a(52),N=a(51),k=(a(78),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"navTo",value:function(e){window.location.href=window.location.origin+e}},{key:"render",value:function(){return r.a.createElement(j.a,{bg:"light",expand:"lg"},r.a.createElement(j.a.Brand,{href:"/",id:"AppHeader"},"Udacitrivia"),r.a.createElement(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(j.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(O.a,null,r.a.createElement(O.a.Link,{id:"AppHeaderItem",href:"/"},"List"),r.a.createElement(N.a,{id:"AppHeaderItem",title:"Add"},r.a.createElement(N.a.Item,{id:"AppHeaderItem",href:"/questions/add"},"Add Question"),r.a.createElement(N.a.Item,{id:"AppHeaderItem",href:"/categories/add"},"Add Category")),r.a.createElement(O.a.Link,{id:"AppHeaderItem",href:"/play"},"Play"))))}}]),a}(n.Component)),A=a(67),S=(a(81),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).selectCategory=function(e){var t=e.type,a=e.id,r=void 0===a?0:a;n.setState({quizCategory:{type:t,id:r}},n.getNextQuestion)},n.handleChange=function(e){n.setState(Object(y.a)({},e.target.name,e.target.value))},n.getNextQuestion=function(){var e=Object(A.a)(n.state.previousQuestions);n.state.currentQuestion.id&&e.push(n.state.currentQuestion.id),g.a.ajax({url:"/quizzes/",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({previous_questions:e,quiz_category:n.state.quizCategory}),xhrFields:{withCredentials:!0},crossDomain:!0,success:function(t){n.setState({showAnswer:!1,previousQuestions:e,currentQuestion:t.question,guess:"",forceEnd:!t.question})},error:function(e){alert("Unable to load question. Please try your request again")}})},n.submitGuess=function(e){e.preventDefault();var t=n.evaluateAnswer();n.setState({numCorrect:t?n.state.numCorrect+1:n.state.numCorrect,showAnswer:!0})},n.restartGame=function(){n.setState({quizCategory:null,previousQuestions:[],showAnswer:!1,numCorrect:0,currentQuestion:{},guess:"",forceEnd:!1})},n.evaluateAnswer=function(){var e=n.state.guess.replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"").toLowerCase();return n.state.currentQuestion.answer.toLowerCase().split(" ").includes(e)},n.state={quizCategory:null,previousQuestions:[],showAnswer:!1,categories:[],numCorrect:0,currentQuestion:{},guess:"",forceEnd:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.ajax({url:"/categories/",type:"GET",success:function(t){e.setState({categories:t.categories})},error:function(e){alert("Unable to load categories. Please try your request again")}})}},{key:"renderPrePlay",value:function(){var e=this;return r.a.createElement("div",{className:"quiz-play-holder"},r.a.createElement("div",{className:"choose-header"},"Choose Category"),r.a.createElement("div",{className:"category-holder"},r.a.createElement("div",{className:"play-category",onClick:this.selectCategory},r.a.createElement(v.a,null,"ALL")),Object.keys(this.state.categories).map((function(t){return"PLACEHOLDER"!==e.state.categories[t].type?r.a.createElement("div",{key:t,value:t,className:"play-category",onClick:function(){return e.selectCategory({type:e.state.categories[t].type,id:t})}},r.a.createElement(v.a,null,e.state.categories[t].type)):null}))))}},{key:"renderFinalScore",value:function(){return r.a.createElement("div",{className:"quiz-play-holder"},r.a.createElement("div",{className:"final-header"}," Your Final Score is ",this.state.numCorrect),r.a.createElement("div",{className:"play-again button",onClick:this.restartGame}," Play Again? "))}},{key:"renderCorrectAnswer",value:function(){var e=this.evaluateAnswer();return r.a.createElement("div",{className:"quiz-play-holder"},r.a.createElement("div",{className:"quiz-question"},this.state.currentQuestion.question),r.a.createElement("div",{className:"".concat(e?"correct":"wrong")},e?"You were correct!":"You were incorrect"),r.a.createElement("div",{className:"quiz-answer"},this.state.currentQuestion.answer),r.a.createElement("div",{className:"next-question button",onClick:this.getNextQuestion}," Next Question "))}},{key:"renderPlay",value:function(){return 3===this.state.previousQuestions.length||this.state.forceEnd?this.renderFinalScore():this.state.showAnswer?this.renderCorrectAnswer():r.a.createElement("div",{className:"quiz-play-holder"},r.a.createElement("div",{className:"quiz-question"},this.state.currentQuestion.question),r.a.createElement("form",{onSubmit:this.submitGuess},r.a.createElement("input",{type:"text",name:"guess",onChange:this.handleChange}),r.a.createElement("input",{className:"submit-guess button",type:"submit",value:"Submit Answer"})))}},{key:"render",value:function(){return this.state.quizCategory?this.renderPlay():this.renderPrePlay()}}]),a}(n.Component)),Q=(a(82),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(k,{path:!0}),r.a.createElement(m.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/",exact:!0,component:w}),r.a.createElement(d.a,{path:"/questions/add",component:h}),r.a.createElement(d.a,{path:"/categories/add",component:f}),r.a.createElement(d.a,{path:"/play",component:S}),r.a.createElement(d.a,{component:w}))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[68,1,2]]]);
//# sourceMappingURL=main.a725a162.chunk.js.map